<?xml version="1.0" encoding="utf-8" ?>
<Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="GraafikPiip.Popups.AddShiftPopup"
    CanBeDismissedByTappingOutside="False">

    <Border BackgroundColor="#16191F" Stroke="#242A33" StrokeThickness="1" Padding="20" StrokeShape="RoundRectangle 16">
        <VerticalStackLayout Spacing="14" WidthRequest="320">
            <Label Text="Добавить смену" FontSize="20" TextColor="#F3F4F6" HorizontalTextAlignment="Center"/>
            <Label x:Name="LblDate" FontSize="13" TextColor="#9AA0A6" HorizontalTextAlignment="Center"/>

            <!-- Сотрудник -->
            <VerticalStackLayout Spacing="6">
                <Label Text="Сотрудник" TextColor="#F3F4F6"/>
                <Picker x:Name="EmployeePicker"
                Title="Выберите сотрудника"
                ItemDisplayBinding="{Binding Name}"
                SelectedIndexChanged="EmployeePicker_SelectedIndexChanged"/>
            </VerticalStackLayout>

            <!-- Имя вручную (если выбран «Другой…») -->
            <VerticalStackLayout x:Name="ManualNameBlock" Spacing="6" IsVisible="False">
                <Label Text="Имя" TextColor="#F3F4F6"/>
                <Entry x:Name="NameEntry" Placeholder="Например: Mari" TextColor="#F3F4F6" PlaceholderColor="#9AA0A6"/>
            </VerticalStackLayout>

            <!-- Время -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                <VerticalStackLayout Grid.Column="0" Spacing="6">
                    <Label Text="Начало" TextColor="#F3F4F6"/>
                    <TimePicker x:Name="StartPicker" Time="09:00"/>
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Spacing="6">
                    <Label Text="Конец" TextColor="#F3F4F6"/>
                    <TimePicker x:Name="EndPicker" Time="18:00"/>
                </VerticalStackLayout>
            </Grid>

            <!-- Цвет (можно переопределить цвет сотрудника) -->
            <VerticalStackLayout Spacing="6">
                <Label Text="Цвет метки" TextColor="#F3F4F6"/>
                <Picker x:Name="ColorPicker" Title="Выберите цвет">
                    <Picker.Items>
                        <x:String>Розовый</x:String>
                        <x:String>Голубой</x:String>
                        <x:String>Зелёный</x:String>
                        <x:String>Жёлтый</x:String>
                        <x:String>Фиолетовый</x:String>
                    </Picker.Items>
                </Picker>
            </VerticalStackLayout>

            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,6,0,0">
                <Button Text="Отмена" BackgroundColor="#000000" TextColor="#F3F4F6" Clicked="Cancel_Clicked" />
                <Button Grid.Column="1" Text="Сохранить" BackgroundColor="#000000" TextColor="#F3F4F6" Clicked="Save_Clicked">
                    <Button.Shadow>
                        <Shadow Brush="#f04e9e" Radius="10"/>
                    </Button.Shadow>
                </Button>
            </Grid>
        </VerticalStackLayout>
    </Border>
</Popup>
